<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Investment Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #121212;
            color: #e0e0e0;
            font-family: 'Courier New', monospace;
        }
        .container {
            max-width: 1200px;
        }
        .card {
            background-color: #1e1e1e;
            border: 1px solid #333;
            color: #e0e0e0;
        }
        .card-header {
            background-color: #2a2a2a;
            border-bottom: 1px solid #333;
        }
        .table {
            color: #e0e0e0;
        }
        .table-dark {
            background-color: #1e1e1e;
        }
        .table-dark th, .table-dark td {
            border-color: #333;
        }
        .btn-toggle {
            background-color: #333;
            border: 1px solid #555;
            color: #e0e0e0;
        }
        .btn-toggle.active {
            background-color: #28a745;
            color: #fff;
        }
        .gain {
            color: #28a745;
        }
        .total-assets {
            font-size: 1.5em;
            font-weight: bold;
        }
        .countdown-timer {
            background-color: #2a2a2a;
            border: 2px solid #ff6b6b;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
            text-align: center;
        }
        .countdown-timer h3 {
            color: #ff6b6b;
            margin-bottom: 10px;
            font-size: 1.2em;
        }
        .countdown-display {
            font-size: 1.3em;
            color: #ffd700;
            font-weight: bold;
            font-family: 'Courier New', monospace;
        }
        .reset-button {
            background-color: #dc3545;
            border: 1px solid #c82333;
            color: #fff;
            margin-top: 15px;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
        }
        .reset-button:hover {
            background-color: #c82333;
        }
    </style>
</head>
<body>
    <div class="container mt-5">
        <!-- ASTS BlueBird 7 Launch Countdown -->
        <div class="countdown-timer">
            <h3>ðŸš€ ASTS BlueBird 7 Launch</h3>
            <div class="countdown-display" id="countdown">Loading...</div>
        </div>

        <h1 class="text-center mb-4">Investment Dashboard</h1>
        
        <!-- Currency Toggle -->
        <div class="d-flex justify-content-end mb-3">
            <div class="btn-group" role="group" aria-label="Currency toggle">
                <button type="button" class="btn btn-toggle active" id="usd-btn">USD</button>
                <button type="button" class="btn btn-toggle" id="aud-btn">AUD</button>
            </div>
        </div>
        
        <!-- Moonshot Section -->
        <div class="card mb-4">
            <div class="card-header">
                <h2>Scenario Calculator</h2>
            </div>
            <div class="card-body">
                <table class="table table-dark table-striped" id="moonshot-table">
                    <thead>
                        <tr>
                            <th>Stock</th>
                            <th>Shares Owned</th>
                            <th>Current Price</th>
                            <th>Target Price</th>
                            <th>Potential Profit</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>ASTS</td>
                            <td><input type="number" class="form-control shares" value="1000"></td>
                            <td><input type="number" class="form-control current-price" data-usd="15.50" value="15.50" step="0.01"></td>
                            <td><input type="number" class="form-control target-price" data-usd="100.00" value="100.00" step="0.01"></td>
                            <td class="profit" data-usd="84500">$84,500.00</td>
                        </tr>
                        <tr>
                            <td>TSLA</td>
                            <td><input type="number" class="form-control shares" value="100"></td>
                            <td><input type="number" class="form-control current-price" data-usd="250.00" value="250.00" step="0.01"></td>
                            <td><input type="number" class="form-control target-price" data-usd="500.00" value="500.00" step="0.01"></td>
                            <td class="profit" data-usd="25000">$25,000.00</td>
                        </tr>
                        <tr>
                            <td>PLTR</td>
                            <td><input type="number" class="form-control shares" value="500"></td>
                            <td><input type="number" class="form-control current-price" data-usd="22.00" value="22.00" step="0.01"></td>
                            <td><input type="number" class="form-control target-price" data-usd="100.00" value="100.00" step="0.01"></td>
                            <td class="profit" data-usd="39000">$39,000.00</td>
                        </tr>
                        <tr>
                            <td>RGTI</td>
                            <td><input type="number" class="form-control shares" value="2000"></td>
                            <td><input type="number" class="form-control current-price" data-usd="10.00" value="10.00" step="0.01"></td>
                            <td><input type="number" class="form-control target-price" data-usd="50.00" value="50.00" step="0.01"></td>
                            <td class="profit" data-usd="80000">$80,000.00</td>
                        </tr>
                    </tbody>
                </table>
                <div class="mt-3">
                    <p>Total Potential Profit: <span id="total-profit" class="gain">$229,500.00</span></p>
                    <p>Projected Future Net Worth: <span id="projected-net-worth" class="total-assets gain">$3,179,500.00</span></p>
                </div>
            </div>
        </div>
        
        <!-- Core Portfolio Section -->
        <div class="card">
            <div class="card-header">
                <h2>Net Worth</h2>
            </div>
            <div class="card-body">
                <div class="mb-3">
                    <h3>Real Net Worth: <span id="net-worth" class="total-assets gain">$2,950,000</span></h3>
                </div>
                <table class="table table-dark table-striped">
                    <thead>
                        <tr>
                            <th>Asset</th>
                            <th>Value</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Real Estate <small>(Loans: $3,100,000)</small></td>
                            <td><input type="number" class="form-control asset-value" data-usd="4400000" value="4400000" step="0.01"></td>
                        </tr>
                        <tr>
                            <td>Zurich Vista Policy</td>
                            <td><input type="number" class="form-control asset-value" data-usd="600000" value="600000" step="0.01"></td>
                        </tr>
                        <tr>
                            <td>AbbVie Stock (ABBV)</td>
                            <td><input type="number" class="form-control asset-value" data-usd="300000" value="300000" step="0.01"></td>
                        </tr>
                        <tr>
                            <td>ETFs & Other Stocks</td>
                            <td><input type="number" class="form-control asset-value" data-usd="500000" value="500000" step="0.01"></td>
                        </tr>
                        <tr>
                            <td>Cash Reserves</td>
                            <td><input type="number" class="form-control asset-value" data-usd="250000" value="250000" step="0.01"></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        
        <!-- Reset Button -->
        <div class="text-center">
            <button class="reset-button" id="reset-btn">Reset All Data</button>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Countdown Timer
        function updateCountdown() {
            const launchDate = new Date('2026-02-20T00:00:00').getTime();
            const now = new Date().getTime();
            const distance = launchDate - now;

            if (distance < 0) {
                document.getElementById('countdown').textContent = 'ðŸŽ‰ Launch Complete!';
                return;
            }

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            document.getElementById('countdown').textContent = 
                `${days}d ${hours}h ${minutes}m ${seconds}s`;
        }

        // Update countdown every second
        updateCountdown();
        setInterval(updateCountdown, 1000);

        const usdBtn = document.getElementById('usd-btn');
        const audBtn = document.getElementById('aud-btn');
        const prices = document.querySelectorAll('.price');
        const assetValues = document.querySelectorAll('.asset-value');
        const moonshotPrices = document.querySelectorAll('.current-price, .target-price');
        const profits = document.querySelectorAll('.profit');
        const resetBtn = document.getElementById('reset-btn');
        let isUSD = true;
        const loan = 3100000;
        let netWorthUSD = 0;
        let totalProfitUSD = 0;

        // Local Storage Keys
        const STORAGE_PREFIX = 'moonshot_tracker_';

        function formatCurrency(amount) {
            return new Intl.NumberFormat('en-US', { style: 'currency', currency: isUSD ? 'USD' : 'AUD' }).format(amount);
        }

        // Save to Local Storage
        function saveToLocalStorage() {
            // Save asset values
            assetValues.forEach(input => {
                const key = STORAGE_PREFIX + input.previousElementSibling.textContent.trim();
                localStorage.setItem(key, input.getAttribute('data-usd'));
            });

            // Save moonshot data (shares, current price, target price)
            document.querySelectorAll('#moonshot-table tbody tr').forEach((row, index) => {
                const shares = row.querySelector('.shares');
                const currentPrice = row.querySelector('.current-price');
                const targetPrice = row.querySelector('.target-price');
                const stock = row.querySelector('td:first-child').textContent;

                localStorage.setItem(STORAGE_PREFIX + stock + '_shares', shares.value);
                localStorage.setItem(STORAGE_PREFIX + stock + '_current', currentPrice.getAttribute('data-usd'));
                localStorage.setItem(STORAGE_PREFIX + stock + '_target', targetPrice.getAttribute('data-usd'));
            });
        }

        // Load from Local Storage
        function loadFromLocalStorage() {
            // Load asset values
            assetValues.forEach(input => {
                const key = STORAGE_PREFIX + input.previousElementSibling.textContent.trim();
                const savedValue = localStorage.getItem(key);
                if (savedValue) {
                    input.setAttribute('data-usd', savedValue);
                }
            });

            // Load moonshot data
            document.querySelectorAll('#moonshot-table tbody tr').forEach((row, index) => {
                const shares = row.querySelector('.shares');
                const currentPrice = row.querySelector('.current-price');
                const targetPrice = row.querySelector('.target-price');
                const stock = row.querySelector('td:first-child').textContent;

                const savedShares = localStorage.getItem(STORAGE_PREFIX + stock + '_shares');
                const savedCurrent = localStorage.getItem(STORAGE_PREFIX + stock + '_current');
                const savedTarget = localStorage.getItem(STORAGE_PREFIX + stock + '_target');

                if (savedShares) shares.value = savedShares;
                if (savedCurrent) currentPrice.setAttribute('data-usd', savedCurrent);
                if (savedTarget) targetPrice.setAttribute('data-usd', savedTarget);
            });
        }

        // Reset all data
        function resetAllData() {
            if (confirm('Are you sure you want to reset all data? This cannot be undone.')) {
                // Clear Local Storage
                for (let key in localStorage) {
                    if (key.startsWith(STORAGE_PREFIX)) {
                        localStorage.removeItem(key);
                    }
                }
                location.reload();
            }
        }

        function calculateNetWorth() {
            let total = 0;
            assetValues.forEach(input => {
                total += parseFloat(input.getAttribute('data-usd'));
            });
            netWorthUSD = total - loan;
            document.getElementById('net-worth').textContent = formatCurrency(netWorthUSD);
        }

        function calculateProfit(row) {
            const shares = parseFloat(row.querySelector('.shares').value) || 0;
            const current = parseFloat(row.querySelector('.current-price').getAttribute('data-usd')) || 0;
            const target = parseFloat(row.querySelector('.target-price').getAttribute('data-usd')) || 0;
            const profit = (target - current) * shares;
            row.querySelector('.profit').setAttribute('data-usd', profit);
            return profit;
        }

        function updateTotalProfit() {
            totalProfitUSD = 0;
            document.querySelectorAll('#moonshot-table tbody tr').forEach(row => {
                totalProfitUSD += calculateProfit(row);
            });
            const projected = netWorthUSD + totalProfitUSD;
            document.getElementById('total-profit').textContent = formatCurrency(totalProfitUSD);
            document.getElementById('projected-net-worth').textContent = formatCurrency(projected);
        }

        function updatePrices() {
            prices.forEach(price => {
                const usdValue = parseFloat(price.getAttribute('data-usd'));
                const displayValue = isUSD ? usdValue : usdValue * 1.5;
                price.textContent = formatCurrency(displayValue);
            });
            assetValues.forEach(input => {
                const usdValue = parseFloat(input.getAttribute('data-usd'));
                const displayValue = isUSD ? usdValue : usdValue * 1.5;
                input.value = displayValue;
            });
            moonshotPrices.forEach(input => {
                const usdValue = parseFloat(input.getAttribute('data-usd'));
                const displayValue = isUSD ? usdValue : usdValue * 1.5;
                input.value = displayValue;
            });
            profits.forEach(profit => {
                const usdValue = parseFloat(profit.getAttribute('data-usd'));
                const displayValue = isUSD ? usdValue : usdValue * 1.5;
                profit.textContent = formatCurrency(displayValue);
            });
            calculateNetWorth();
            updateTotalProfit();
        }

        function updateDataUSD(input) {
            const displayValue = parseFloat(input.value);
            const usdValue = isUSD ? displayValue : displayValue / 1.5;
            input.setAttribute('data-usd', usdValue);
            if (input.classList.contains('asset-value')) {
                calculateNetWorth();
            }
            updateTotalProfit();
            saveToLocalStorage();
        }

        usdBtn.addEventListener('click', () => {
            isUSD = true;
            usdBtn.classList.add('active');
            audBtn.classList.remove('active');
            updatePrices();
        });

        audBtn.addEventListener('click', () => {
            isUSD = false;
            audBtn.classList.add('active');
            usdBtn.classList.remove('active');
            updatePrices();
        });

        assetValues.forEach(input => {
            input.addEventListener('input', () => updateDataUSD(input));
        });

        moonshotPrices.forEach(input => {
            input.addEventListener('input', () => updateDataUSD(input));
        });

        document.querySelectorAll('.shares').forEach(input => {
            input.addEventListener('input', () => {
                updateTotalProfit();
                saveToLocalStorage();
            });
        });

        resetBtn.addEventListener('click', resetAllData);

        // Initial load
        loadFromLocalStorage();
        updatePrices();
    </script>
</body>
</html>
